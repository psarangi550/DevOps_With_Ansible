# <ins> URI modle </ins> #

- `Interacts with HTTP and HTTPS web services` and `supports Digest, Basic and WSSE HTTP authentication mechanisms.`

- `For Windows targets, use the ansible.windows.win_uri module instead.`

# <ins> Parameters </ins> #

- **body**

  - `body` :- `The "body of the http request/response to the web service."`

  - If `body_format` is set to `‘json’ ` it `will take an already formatted JSON string` or `convert a data structure into JSON.`

  - If `body_format` is set to `‘form-urlencoded’` it will `convert a dictionary or list of tuples` `into` an `‘application/x-www-form-urlencoded’ string.` (Added in v2.7)

  - If `body_format` is set to `‘form-multipart’` it will `convert a dictionary` `into` `‘multipart/form-multipart’ body.` (Added in v2.10)

- **body_format**

  - `body_format` :- `The serialization format of the body`

  - `When set to` `json`, `form-multipart`, or `form-urlencoded` ,  `encodes the body argument`, `if needed,` and `automatically sets the Content-Type header accordingly.`

  - `As of v2.3 it is possible to override` the `Content-Type header`, when `set to json or form-urlencoded` `via the headers option.`

  - The ‘Content-Type’ header cannot be overridden when using form-multipart

  - `Choices`:

      `"form-urlencoded"`

     ` "json"`

      `"raw" ← (default)`

      `"form-multipart"`

- **dest**

  - `dest` :- `A path of where to download the file to (if desired)`. `If dest is a directory,` `the basename of the file on the remote server will be used.`

- **follow_redirects**

  - Whether or not the URI module should follow redirects. 

  - all will follow all redirects

  - safe will follow only “safe” redirects, where “safe” means that the client is only doing a GET or HEAD on the URI to which it is being redirected

  - none will not follow any redirects

  - Note that true and false choices are accepted for backwards compatibility, where true is the equivalent of all and false is the equivalent of safe

  - true and false are deprecated and will be removed in some future version of Ansible.

  - Choices:

      "all"

      "no"

      "none"

      "safe" ← (default)

      "urllib2"

      "yes"


- **force**
  
  - `force` :- If true do not get a cached copy.

  - `Choices`:

      `false ← (default)`

      `true`

- **force_basic_auth**

  - `force_basic_auth` :- Force the sending of the Basic authentication header upon initial request.

  - When this setting is false, this module will first try an unauthenticated request, and when the server replies with an HTTP 401 error, it will submit the Basic authentication header

  - When this setting is true, this module will immediately send a Basic authentication header on the first request.

  - Use this setting in any of the following scenarios:

    - `You know the webservice endpoint always requires HTTP Basic authentication,` and `you want to speed up your requests by eliminating the first roundtrip.`

    - `The web service does not properly send an HTTP 401 error to your client, so Ansible’s HTTP library will not properly respond with HTTP credentials, and logins will fail.`

    - `The webservice bans or rate-limits clients that cause any HTTP 401 errors.`

  - `Choices:`

      - `false ← (default)`

      - `true`


- **headers**

  - `Add custom HTTP headers to a request in the format of a YAML hash.`

  - `As of 2.3 supplying Content-Type here will override the header generated by supplying json or form-urlencoded for body_format.`

  `- Default: {}`

- **method**

  - `The HTTP method of the request or response.`

  - `In more recent versions we do not restrict the method at the module level anymore but it still must be a valid method accepted by the service handling the request.`

  - Default: "GET"


- **mode**

  - `mode` :- The permissions the resulting filesystem object should have.

  - For those used to /usr/bin/chmod remember that modes are actually octal numbers. You must give Ansible enough information to parse them correctly. For consistent results, quote octal numbers (for example, '644' or '1777') so Ansible receives a string and can do its own conversion from string into number. Adding a leading zero (for example, 0755) works sometimes, but can fail in loops and some other circumstances.

  - If `mode is not specified` and the `destination filesystem object does not exist`, the d`efault umask on the system will be used` when `setting the mode for the newly created filesystem object.`

  - If` mode is not specified` and the `destination filesystem object does exist`, the `mode of the existing filesystem object will be used.`

  - `Specifying mode is the best way to ensure filesystem objects are created with the correct permissions. See CVE-2020-1736 for further details.`


- **remote_src**

  - `If false, the module will search for the src on the controller node.`

  - `If true, the module will search for the src on the managed (remote) node.`

  - `Choices`:

      `false ← (default)`

      `true`

- **removes**

  - A filename, when it does not exist, this step will not be run.

- **return_content**

  - `Whether or not to return the body of the response` as a `“content” key in the dictionary result no matter it succeeded or failed.`

  - `Independently of this option`, if the reported `Content-type is “application/json”,` then the `JSON is always loaded into a key called json in the dictionary results.`

- **src**

  - `Path to file to be submitted to the remote server.`

  - `Cannot be used with body.`

  - `Should be used with force_basic_auth to ensure success when the remote end sends a 401.`

- **status_code**

- `A list of valid, numeric, HTTP status codes that signifies success of the request.`

- `Default: [200]`

- **url**

  - `HTTP or HTTPS URL in the form (http|https)://host.domain[:port]/path`

- **url_username**

  - `A username for the module to use for Digest, Basic or WSSE authentication.`

- **url_password**

    - `A password for the module to use for Digest, Basic or WSSE authentication.`



